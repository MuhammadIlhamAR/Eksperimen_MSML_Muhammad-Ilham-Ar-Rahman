# Gunakan image Python yang sudah ada
FROM python:3.8-slim

# Set working directory di dalam container
WORKDIR /app

# Salin file yang diperlukan (termasuk script, data, dan dependencies)
COPY . /app

# Install dependencies
RUN pip install --upgrade pip
RUN pip install -r MLProject/conda.yaml

# Install MLflow dan dependencies lainnya
RUN pip install mlflow

# Install DagsHub
RUN pip install dagshub

# Install libraries yang dibutuhkan
RUN pip install -U imbalanced-learn

# Install dependencies lainnya
RUN pip install scikit-learn pandas matplotlib seaborn

# Set port untuk MLflow
EXPOSE 5000

# Perintah untuk menjalankan MLflow server
CMD ["mlflow", "ui", "--host", "0.0.0.0", "--port", "5000"]
